---
layout: default
title: Search
---
<h2>Search</h2>
<input id="q" type="search" placeholder="Search title, tags, excerpt…" style="width:100%;padding:.5rem">
<ul id="results"></ul>

<script>
  async function go() {
    const res = await fetch('{{ "/search.json" | relative_url }}');
    const data = await res.json();
    const q = document.getElementById('q');
    const out = document.getElementById('results');

    function render(list){
      out.innerHTML = list.map(i => `<li><a href="${i.url}">${i.title}</a> — <small>${i.section}</small></li>`).join("");
    }

    q.addEventListener('input', () => {
      const term = q.value.toLowerCase();
      const hits = data.filter(i =>
        (i.title||"").toLowerCase().includes(term) ||
        (i.tags||"").toLowerCase().includes(term) ||
        (i.excerpt||"").toLowerCase().includes(term)
      );
      render(hits);
    });

    render(data);
  }
  go();
</script>
